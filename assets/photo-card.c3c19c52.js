var W=Object.defineProperty,X=Object.defineProperties;var Z=Object.getOwnPropertyDescriptors;var P=Object.getOwnPropertySymbols;var ee=Object.prototype.hasOwnProperty,te=Object.prototype.propertyIsEnumerable;var H=(s,t,e)=>t in s?W(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,b=(s,t)=>{for(var e in t||(t={}))ee.call(t,e)&&H(s,e,t[e]);if(P)for(var e of P(t))te.call(t,e)&&H(s,e,t[e]);return s},A=(s,t)=>X(s,Z(t));import{o as d,m as _,n as a,d as M,f as F,A as L,B as se,l as x,t as f,w as E,F as U,s as V,x as w,z as N,I as ne,D as Y,y as T,E as C,J as z,K as ae,G as k,L as B,M as K,e as oe,N as le,O as I,c as re}from"./vendor.2a1c2e1a.js";import{_ as ie}from"./index.813c7f4f.js";import{u as S,_ as ue,a as ce}from"./location-filled.c2d99772.js";import{_ as de}from"./plugin-vue_export-helper.5a098b48.js";const _e={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 380 790"},pe=a("path",{d:"M65 8l311 311L65 630L0 564l245-245L0 74z",fill:"currentColor"},null,-1),me=[pe];function he(s,t){return d(),_("svg",_e,me)}var ve={name:"il-arrow-right",render:he};const ge={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},fe=a("path",{d:"M7 21l7.9-18H17L9.1 21H7z",fill:"currentColor"},null,-1),xe=[fe];function ye(s,t){return d(),_("svg",ge,xe)}var $e={name:"mdi-slash-forward",render:ye};const be={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 380 790"},we=a("path",{d:"M311 630L0 319L311 8l65 66l-245 245l245 245z",fill:"currentColor"},null,-1),Ce=[we];function ke(s,t){return d(),_("svg",be,Ce)}var Ee={name:"il-arrow-left",render:ke};const ze={class:"flex justify-center items-center p-2 py-4 text-center children:mx-1 whitespace-nowrap bg-light-50 dark:bg-dark-300"},Me={class:"relative px-2 flex-shrink-0 flex items-center rounded-md overflow-hidden select-none bg-true-gray-200 bg-opacity-50 dark:bg-dark-100 shadow-sm dark:shadow-light-900"},Be=["value"],qe=["value","textContent"],Ae=["textContent"],Fe={name:"UiPagination"};function Se(s,{emit:t}){const e=s,v=F(()=>{const{autoHide:p,page:c,size:g,total:$}=e,h=Math.ceil($/g);return{page:c,maxPage:h,prevEnabled:c>1,nextEnabled:c<h,visible:h>1||!p}}),i=p=>{typeof p=="number"?t("change-page",p):t("change-page",+p.target.value)};return(p,c)=>{const g=Ee,$=ie,h=$e,y=ve;return L((d(),_("div",ze,[f($,{class:"text-small",disabled:!x(v).prevEnabled,onClick:c[0]||(c[0]=o=>i(e.page-1))},{content:E(()=>[f(g)]),_:1},8,["disabled"]),a("div",Me,[a("select",{value:x(v).page,class:"h-9 m-1 px-4 text-current text-center outline-none rounded-md appearance-none bg-light-50 dark:bg-dark-400",onChange:c[1]||(c[1]=o=>i(o))},[(d(!0),_(U,null,V(x(v).maxPage,o=>(d(),_("option",{key:o,class:"bg-light-50 text-dark-900 dark:bg-dark-400 dark:text-true-gray-400",value:o,textContent:w(o)},null,8,qe))),128))],40,Be),f(h),a("div",{class:"px-2",textContent:w(x(v).maxPage)},null,8,Ae)]),f($,{class:"text-small",disabled:!x(v).nextEnabled,onClick:c[2]||(c[2]=o=>i(e.page+1))},{content:E(()=>[f(y)]),_:1},8,["disabled"])],512)),[[se,x(v).visible]])}}const Re=M(A(b({},Fe),{props:{autoHide:null,page:null,size:null,total:null},emits:["change-page"],setup:Se})),De={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 384 512"},Le=a("path",{d:"M80.95 472.23c-4.28 17.16 6.14 34.53 23.28 38.81c2.61.66 5.22.95 7.8.95c14.33 0 27.37-9.7 31.02-24.23l25.24-100.97l-52.78-52.78l-34.56 138.22zm14.89-196.12L137 117c2.19-8.42-3.14-16.95-11.92-19.06c-43.88-10.52-88.35 15.07-99.32 57.17L.49 253.24c-2.19 8.42 3.14 16.95 11.92 19.06l63.56 15.25c8.79 2.1 17.68-3.02 19.87-11.44zM368 160h-16c-8.84 0-16 7.16-16 16v16h-34.75l-46.78-46.78C243.38 134.11 228.61 128 212.91 128c-27.02 0-50.47 18.3-57.03 44.52l-26.92 107.72a32.012 32.012 0 0 0 8.42 30.39L224 397.25V480c0 17.67 14.33 32 32 32s32-14.33 32-32v-82.75c0-17.09-6.66-33.16-18.75-45.25l-46.82-46.82c.15-.5.49-.89.62-1.41l19.89-79.57l22.43 22.43c6 6 14.14 9.38 22.62 9.38h48v240c0 8.84 7.16 16 16 16h16c8.84 0 16-7.16 16-16V176c.01-8.84-7.15-16-15.99-16zM240 96c26.51 0 48-21.49 48-48S266.51 0 240 0s-48 21.49-48 48s21.49 48 48 48z",fill:"currentColor"},null,-1),Te=[Le];function je(s,t){return d(),_("svg",De,Te)}var Pe={name:"fa-solid-hiking",render:je};const He={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},Ue=a("path",{d:"M8.71 11.71l2.59 2.59c.39.39 1.02.39 1.41 0l2.59-2.59c.63-.63.18-1.71-.71-1.71H9.41c-.89 0-1.33 1.08-.7 1.71z",fill:"currentColor"},null,-1),Ve=[Ue];function Ne(s,t){return d(),_("svg",He,Ve)}var Ye={name:"ic-round-arrow-drop-down",render:Ne};const O={small:"h-10",medium:"h-12",large:"h-14"},J={small:"text-sm",medium:"text-base",large:"text-2xl"},Ke={class:"group relative inline-flex items-center bg-white overflow-hidden rounded-md shadow-md"},Ie=["value","textContent"],Oe={class:"absolute top-[50%] right-0 transform -translate-x-[50%] -translate-y-[50%] inline-flex items-center"},Je={name:"UiSelect"};function Ge(s){const t=s,e=N(t,"value"),v=F(()=>{const i=["flex-grow","px-3","pr-8","w-full","truncate","text-current","bg-transparent","outline-none","appearance-none","cursor-pointer"];return i.push(J[t.size]),i.push(O[t.size]),i});return(i,p)=>{const c=Ye;return d(),_("div",Ke,[L(a("select",{"onUpdate:modelValue":p[0]||(p[0]=g=>Y(e)?e.value=g:null),class:T(x(v))},[(d(!0),_(U,null,V(t.options,g=>(d(),_("option",{key:g.value,value:g.value,textContent:w(g.label)},null,8,Ie))),128))],2),[[ne,x(e)]]),a("span",Oe,[f(c)])])}}const Qe=M(A(b({},Je),{props:{size:{default:"medium"},value:null,options:null},setup:Ge})),We={class:"inline-flex items-center bg-white overflow-hidden rounded-md shadow-md"},Xe={key:0,m:"-r-1",p:"x-3 r-0",class:"inline-flex justify-center items-center"},Ze=["type","placeholder"],et={key:0,m:"-l-1",p:"x-3 l-0",class:"inline-flex justify-center items-center"},tt={name:"UiInput"};function st(s){const t=s,e=N(t,"value"),v=F(()=>{const i=["flex-grow","px-3","truncate","text-current","bg-transparent","outline-none"];return i.push(J[t.size]),i.push(O[t.size]),i});return(i,p)=>(d(),_("div",We,[C(i.$slots,"prepend",{},()=>[i.$slots.prefix?(d(),_("div",Xe,[C(i.$slots,"prefix")])):z("",!0)]),L(a("input",{"onUpdate:modelValue":p[0]||(p[0]=c=>Y(e)?e.value=c:null),class:T(x(v)),type:t.type,placeholder:t.placeholder},null,10,Ze),[[ae,x(e)]]),C(i.$slots,"append",{},()=>[i.$slots.suffix?(d(),_("div",et,[C(i.$slots,"suffix")])):z("",!0)])]))}const nt=M(A(b({},tt),{props:{type:{default:"text"},size:{default:"medium"},value:null,placeholder:{default:""}},setup:st})),at={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},ot=a("path",{d:"M10.5 16.5a6 6 0 1 0 0-12a6 6 0 0 0 0 12zm6.32-1.094l3.58 3.58a1 1 0 1 1-1.415 1.413l-3.58-3.58a8 8 0 1 1 1.414-1.414z",fill:"currentColor"},null,-1),lt=[ot];function rt(s,t){return d(),_("svg",at,lt)}var it={name:"jam-search",render:rt};const ut=[{label:"\u4E0D\u5206\u7E23\u5E02",value:""},{label:"\u81FA\u5317\u5E02",value:"Taipei"},{label:"\u65B0\u5317\u5E02",value:"NewTaipei"},{label:"\u6843\u5712\u5E02",value:"Taoyuan"},{label:"\u81FA\u4E2D\u5E02",value:"Taichung"},{label:"\u81FA\u5357\u5E02",value:"Tainan"},{label:"\u9AD8\u96C4\u5E02",value:"Kaohsiung"},{label:"\u57FA\u9686\u5E02",value:"Keelung"},{label:"\u65B0\u7AF9\u5E02",value:"Hsinchu"},{label:"\u65B0\u7AF9\u7E23",value:"HsinchuCounty"},{label:"\u82D7\u6817\u7E23",value:"MiaoliCounty"},{label:"\u5F70\u5316\u7E23",value:"ChanghuaCounty"},{label:"\u5357\u6295\u7E23",value:"NantouCounty"},{label:"\u96F2\u6797\u7E23",value:"YunlinCounty"},{label:"\u5609\u7FA9\u7E23",value:"ChiayiCounty"},{label:"\u5609\u7FA9\u5E02",value:"Chiayi"},{label:"\u5C4F\u6771\u7E23",value:"PingtungCounty"},{label:"\u5B9C\u862D\u7E23",value:"YilanCounty"},{label:"\u82B1\u84EE\u7E23",value:"HualienCounty"},{label:"\u81FA\u6771\u7E23",value:"TaitungCounty"},{label:"\u91D1\u9580\u7E23",value:"KinmenCounty"},{label:"\u6F8E\u6E56\u7E23",value:"PenghuCounty"},{label:"\u9023\u6C5F\u7E23",value:"LienchiangCounty"}],R=s=>b({immediate:!0,loading:!1,page:1,size:20,total:0},s),ct=()=>{const s=k(""),t={},e=k({keyword:"",city:""}),v=(o,m)=>{const u=m(),n=F(()=>u.state.value.data);return t[o]=u.state,K(n,()=>{s.value=o}),K(e,(l,r)=>{const q=JSON.stringify(l),D=JSON.stringify(r);q!==D&&o!==s.value&&(u.state.value.immediate=!0)}),u},i=(o,m)=>{o.value.immediate=!1,o.value.page=m.page,o.value.size=m.size},p=(o,m={},u={})=>{const n=b(b({page:1,size:20},e.value),m),l=o.join(" and ");return{searchParams:b({$top:n.size,$skip:(n.page-1)*n.size,$filter:l},u),summaryParams:{$filter:l},options:n}},c=o=>{const{state:m,searchRequest:u,summaryRequest:n,conditions:l,queryOptions:r,overwrite:q}=o,{searchParams:D,summaryParams:Q,options:j}=p(l,r,q);u(D),j.page===1&&n(Q),i(m,j)},g=v("scenicSpot",()=>{const o=S("Tourism"),m=o.request("/ScenicSpot",{$select:"ID"}),u=o.request("/ScenicSpot",{}),n=k(R({data:u.data}));return B(()=>{var l,r;n.value.loading=u.isFetching.value,n.value.total=(r=(l=m.data.value)==null?void 0:l.length)!=null?r:n.value.total}),{state:n,query:(l,r={})=>c({state:n,conditions:l,queryOptions:r,searchRequest:u.reload,summaryRequest:m.reload,overwrite:{$orderby:"UpdateTime desc"}})}}),$=v("restaurant",()=>{const o=S("Tourism"),m=o.request("/Restaurant",{$select:"ID"}),u=o.request("/Restaurant",{}),n=k(R({data:u.data}));return B(()=>{var l,r;n.value.loading=u.isFetching.value,n.value.total=(r=(l=m.data.value)==null?void 0:l.length)!=null?r:n.value.total}),{state:n,query:(l,r={})=>c({state:n,conditions:l,queryOptions:r,searchRequest:u.reload,summaryRequest:m.reload,overwrite:{$orderby:"UpdateTime desc"}})}}),h=v("hotel",()=>{const o=S("Tourism"),m=o.request("/Hotel",{$select:"ID"}),u=o.request("/Hotel",{}),n=k(R({data:u.data}));return B(()=>{var l,r;n.value.loading=u.isFetching.value,n.value.total=(r=(l=m.data.value)==null?void 0:l.length)!=null?r:n.value.total}),{state:n,query:(l,r={})=>c({state:n,conditions:l,queryOptions:r,searchRequest:u.reload,summaryRequest:m.reload,overwrite:{$orderby:"UpdateTime desc"}})}}),y=v("activity",()=>{const o=S("Tourism"),m=o.request("/Activity",{$select:"ID"}),u=o.request("/Activity",{}),n=k(R({data:u.data}));return B(()=>{var l,r;n.value.loading=u.isFetching.value,n.value.total=(r=(l=m.data.value)==null?void 0:l.length)!=null?r:n.value.total}),{state:n,query:(l,r={})=>c({state:n,conditions:l,queryOptions:r,searchRequest:u.reload,summaryRequest:m.reload,overwrite:{$orderby:"UpdateTime desc"}})}});return{global:e,scenicSpot:g,restaurant:$,hotel:h,activity:y}};var G=ct();const dt={class:"m-2 mx-5 p-4 py-18 text-center rounded-md select-none bg-gradient-to-br from-yellow-200 to-light-100 dark:from-indigo-700 dark:to-violet-500"},_t=a("div",{class:"py-4 text-4xl"},[a("span",{class:"text-violet-700 dark:text-yellow-300"},"\u63A2\u7D22"),a("span",{class:"px-2 text-dark-500 dark:text-light-50"},"\u60A8\u60F3\u53BB\u7684\u5730\u65B9")],-1),pt=["onKeyup"],mt={class:"m-2 w-full sm:w-auto flex-grow"},ht={class:"m-2 w-full sm:w-auto"},vt={class:"p-5 px-7 m-auto max-w-screen-2xl text-dark-700 dark:text-light-900"},gt={class:"flex items-center p-2 select-none text-2xl"},ft={class:"pr-2"},xt=I(" \u5171\u6709"),yt=["textContent"],$t=I("\u7B46\u641C\u5C0B\u7D50\u679C "),Qt=M({props:{loading:{default:!1},total:{default:0},pagination:{default:()=>({page:1,size:10})}},emits:["search","page-change"],setup(s,{emit:t}){const e=s,v=oe(),i=ut.map(h=>h.value?{label:h.label,value:h.label}:h),p=k(b({module:v.path.replace(/\/tourism\//,"")},x(G.global))),c=k(!1);B(()=>{e.loading?c.value=!0:setTimeout(()=>{c.value=!1},250)});const g=()=>{const{keyword:h,city:y}=p.value;G.global.value={keyword:h,city:y},t("search",{keyword:h,city:y})},$=h=>t("page-change",h);return(h,y)=>{const o=it,m=nt,u=Qe,n=Pe,l=Re;return d(),_("div",{class:T(["with-overlay",{"is-active":c.value}])},[a("div",dt,[_t,a("div",{class:"mx-auto max-w-screen-sm flex flex-col sm:flex-row items-center text-dark-700",onKeyup:le(g,["enter"])},[a("div",mt,[f(m,{value:p.value.keyword,"onUpdate:value":y[0]||(y[0]=r=>p.value.keyword=r),class:"w-full",placeholder:"\u641C\u5C0B\u95DC\u9375\u5B57"},{suffix:E(()=>[a("div",{class:"inline-flex justify-center items-center h-8 w-8 rounded-md text-light-50 bg-gradient-to-br from-yellow-400 to-yellow-500 cursor-pointer",onClick:g},[f(o)])]),_:1},8,["value"])]),a("div",ht,[f(u,{value:p.value.city,"onUpdate:value":[y[1]||(y[1]=r=>p.value.city=r),g],options:x(i),class:"w-full"},null,8,["value","options"])])],40,pt)]),a("div",vt,[a("div",gt,[a("span",ft,[f(n)]),xt,a("span",{class:"px-2 text-yellow-300",textContent:w(e.total)},null,8,yt),$t]),C(h.$slots,"default"),f(l,{"auto-hide":"",class:"sticky z-2 bottom-0",page:e.pagination.page,size:e.pagination.size,total:e.total,onChangePage:$},null,8,["page","size","total"])])],2)}}}),bt={name:"UiCard"},wt={class:"inline-flex w-full h-full flex-col overflow-hidden rounded-xl shadow-md bg-true-gray-100 dark:bg-dark-100"},Ct={key:0},kt={class:"p-4"},Et={key:1};function zt(s,t,e,v,i,p){return d(),_("div",wt,[s.$slots.header?(d(),_("div",Ct,[C(s.$slots,"header")])):z("",!0),a("div",kt,[C(s.$slots,"default")]),s.$slots.footer?(d(),_("div",Et,[C(s.$slots,"footer")])):z("",!0)])}var Mt=de(bt,[["render",zt]]);const Bt={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 20 20"},qt=a("path",{d:"M19.367 18.102L18 14h-1.5l.833 4H2.667l.833-4H2L.632 18.102C.285 19.146.9 20 2 20h16c1.1 0 1.715-.854 1.367-1.898zM15 5A5 5 0 1 0 5 5c0 4.775 5 10 5 10s5-5.225 5-10zm-7.7.06c0-1.491 1.208-2.699 2.7-2.699a2.699 2.699 0 1 1 0 5.399a2.7 2.7 0 0 1-2.7-2.7z",fill:"currentColor"},null,-1),At=[qt];function Ft(s,t){return d(),_("svg",Bt,At)}var St={name:"entypo-location",render:Ft};const Rt={class:"group relative h-50 overflow-hidden bg-true-gray-200 dark:bg-dark-50"},Dt=["src","alt"],Lt={key:1,class:"flex justify-center items-center min-h-full text-2xl text-true-gray-500"},Tt={class:"absolute z-1 right-0 bottom-0 transition -translate-x-[25%] -translate-y-[25%] md:translate-y-[100%] duration-300 transform group-hover:-translate-y-[25%]"},jt=["textContent"],Pt=["textContent"],Ht={class:"p-4 pt-0"},Ut={key:0,class:"inline-flex items-start"},Vt=["textContent"],Nt={key:1,class:"inline-flex items-start"},Yt=["textContent"],Wt=M({props:{src:{default:""},alt:{default:""},title:{default:""},description:{default:""},city:{default:""},time:{default:""}},emits:["more"],setup(s,{emit:t}){const e=s;return(v,i)=>{const p=St,c=ue,g=ce,$=Mt;return d(),re($,null,{header:E(()=>[a("div",Rt,[e.src?(d(),_("img",{key:0,class:"min-w-full min-h-full transition duration-750 object-center object-fill transform opacity-85 pointer-events-none group-hover:scale-115 group-hover:opacity-100",src:e.src,alt:e.alt},null,8,Dt)):(d(),_("div",Lt,"\u66AB\u7121\u5716\u7247")),a("div",Tt,[a("div",{class:"inline-flex justify-center items-center w-12 h-12 rounded-1 text-xl cursor-pointer bg-true-gray-100 bg-opacity-85 hover:bg-opacity-100 dark:bg-dark-200 dark:hover:bg-dark-100",onClick:i[0]||(i[0]=h=>t("more"))},[f(p)])])])]),footer:E(()=>[a("div",Ht,[e.city?(d(),_("div",Ut,[f(c,{class:"flex-shrink-0 text-xl text-orange-400 dark:text-yellow-300"}),a("div",{class:"px-2 text-true-gray-500 dark:text-true-gray-300",textContent:w(e.city)},null,8,Vt)])):z("",!0),e.time?(d(),_("div",Nt,[f(g,{class:"flex-shrink-0 text-xl text-orange-400 dark:text-yellow-300"}),a("div",{class:"px-2 text-true-gray-500 dark:text-true-gray-300",textContent:w(e.time)},null,8,Yt)])):z("",!0)])]),default:E(()=>[a("h3",{class:"py-2 font-bold text-xl text-dark-900 dark:text-light-900",textContent:w(e.title)},null,8,jt),a("p",{class:"overflow-ellipsis line-clamp-3 text-base h-18 text-true-gray-600 dark:text-true-gray-400",textContent:w(e.description)},null,8,Pt)]),_:1})}}});export{Qt as _,Wt as a,G as s};
