import{s as d,_ as B}from"./tourism-search.cd7e722d.js";import{_ as D}from"./plugin-vue_export-helper.5a098b48.js";import{o as n,m as a,E as b,I as w,n as e,d as j,c as S,w as h,t as f,x,b as z,f as M,O as N,l as g,s as A,F as I}from"./vendor.4a1ab756.js";import{_ as L,a as R}from"./location-filled.563881b4.js";import{b as V}from"./index.998a495c.js";import"./index.0b970818.js";import"./index.2fd07e63.js";const q={name:"UiCard"},E={class:"inline-flex w-full h-full flex-col overflow-hidden rounded-xl shadow-md bg-true-gray-100 dark:bg-dark-100"},F={key:0},H={class:"p-4"},O={key:1};function U(r,u,t,v,_,p){return n(),a("div",E,[r.$slots.header?(n(),a("div",F,[b(r.$slots,"header")])):w("",!0),e("div",H,[b(r.$slots,"default")]),r.$slots.footer?(n(),a("div",O,[b(r.$slots,"footer")])):w("",!0)])}var T=D(q,[["render",U]]);const Y={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 20 20"},G=e("path",{d:"M19.367 18.102L18 14h-1.5l.833 4H2.667l.833-4H2L.632 18.102C.285 19.146.9 20 2 20h16c1.1 0 1.715-.854 1.367-1.898zM15 5A5 5 0 1 0 5 5c0 4.775 5 10 5 10s5-5.225 5-10zm-7.7.06c0-1.491 1.208-2.699 2.7-2.699a2.699 2.699 0 1 1 0 5.399a2.7 2.7 0 0 1-2.7-2.7z",fill:"currentColor"},null,-1),J=[G];function K(r,u){return n(),a("svg",Y,J)}var Q={name:"entypo-location",render:K};const W={class:"group relative h-50 overflow-hidden bg-true-gray-200 dark:bg-dark-50"},X=["src","alt"],Z={key:1,class:"flex justify-center items-center min-h-full text-2xl text-true-gray-500"},tt={class:"absolute z-1 right-0 bottom-0 transition -translate-x-[25%] -translate-y-[25%] md:translate-y-[100%] duration-300 transform group-hover:-translate-y-[25%]"},et=["textContent"],ot=["textContent"],st={class:"p-4 pt-0"},nt={class:"inline-flex items-start"},rt=["textContent"],at={class:"inline-flex items-start"},it=["textContent"],lt=j({props:{src:{default:""},alt:{default:""},title:{default:""},description:{default:""},city:{default:""},time:{default:""}},emits:["more"],setup(r,{emit:u}){const t=r;return(v,_)=>{const p=Q,m=L,y=R,k=T;return n(),S(k,null,{header:h(()=>[e("div",W,[t.src?(n(),a("img",{key:0,class:"min-w-full min-h-full transition duration-750 object-center object-fill transform opacity-85 pointer-events-none group-hover:scale-115 group-hover:opacity-100",src:t.src,alt:t.alt},null,8,X)):(n(),a("div",Z,"\u66AB\u7121\u5716\u7247")),e("div",tt,[e("div",{class:"inline-flex justify-center items-center w-12 h-12 rounded-1 text-xl cursor-pointer bg-true-gray-100 bg-opacity-85 hover:bg-opacity-100 dark:bg-dark-200 dark:hover:bg-dark-100",onClick:_[0]||(_[0]=o=>u("more"))},[f(p)])])])]),footer:h(()=>[e("div",st,[e("div",nt,[f(m,{class:"flex-shrink-0 text-xl text-orange-400 dark:text-yellow-300"}),e("div",{class:"px-2 text-true-gray-500 dark:text-true-gray-300",textContent:x(t.city)},null,8,rt)]),e("div",at,[f(y,{class:"flex-shrink-0 text-xl text-orange-400 dark:text-yellow-300"}),e("div",{class:"px-2 text-true-gray-500 dark:text-true-gray-300",textContent:x(t.time)},null,8,it)])])]),default:h(()=>[e("h3",{class:"py-2 font-bold text-xl text-dark-900 dark:text-light-900",textContent:x(t.title)},null,8,et),e("p",{class:"overflow-ellipsis line-clamp-3 text-base h-18 text-true-gray-600 dark:text-true-gray-400",textContent:x(t.description)},null,8,ot)]),_:1})}}});var P={};const ct={class:"flex flex-wrap items-stretch"},dt=j({setup(r){const u=z(),t=V(),v=M(()=>{const{page:o,size:l,total:i,loading:c}=d.scenicSpot.state.value;return{loading:c,total:i,pagination:{page:o,size:l}}}),_=M(()=>g(d.scenicSpot.state.value.data)),p=(o,l=1)=>{const i=["City ne null","Description ne null"],{keyword:c,city:s}=g(o);s&&i.push(`City eq '${s}'`),c&&i.push(`contains(Name, '${c}')`),d.scenicSpot.query(i,{page:l}),t==null||t.top()},m=(o,l=1)=>p(o,l),y=o=>p(d.global,o),k=o=>{t==null||t.top(!1),u.push({name:"tourism-scenic-spot-id",params:{id:o}})};return d.scenicSpot.state.value.immediate&&m(d.global),(o,l)=>{const i=lt,c=B;return n(),S(c,N({class:"text-orange-200"},g(v),{onSearch:m,onPageChange:y}),{default:h(()=>[e("div",ct,[(n(!0),a(I,null,A(g(_),s=>{var $,C;return n(),a("div",{key:s.ID,class:"group w-full p-2 md:max-w-1/2 xl:max-w-1/3 2xl:max-w-1/4 select-none"},[f(i,{src:($=s.Picture)==null?void 0:$.PictureUrl1,alt:(C=s.Picture)==null?void 0:C.PictureDescription1,title:s.Name,description:s.Description,city:s.City,time:s.OpenTime,onMore:ut=>k(s.ID)},null,8,["src","alt","title","description","city","time","onMore"])])}),128))])]),_:1},16)}}});typeof P=="function"&&P(dt);export{dt as default};
